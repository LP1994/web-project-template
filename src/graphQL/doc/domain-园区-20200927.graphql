#查询
extend type Query{
    #根据编号查询区域
    ibms_region_findById(regionId: String): IBMS_IRegion!
    #所有园区
    ibms_region_getParks(exp: String): [IBMS_Park]!
    #获取所有建筑分类
    ibms_getArchitectureCategories(exp: String): [IBMS_Architecture_Category]!
    #获取所有功能区分类小类
    #exp: （name:名称    type: 功能区类型 INDOOR:封闭式    OPEN:开放式）
    ibms_getFunCategories(exp: String): [IBMS_FunctionalArea_Category]!
    #根据功能区大类获取功能区小类   	id：功能区大类id
    ibms_getFunctionalAreaCategoryByBuildingCategory(id: String): [IBMS_FunctionalArea_Category]!
}

#区域
interface IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #上级区域
    parent: IBMS_IRegion
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon
}

#图标
type IBMS_regionIcon{
    #园区Id
    regionId: String!
    #默认图标
    defaultIcon: String
    #选中图标
    pitchonIcon: String
}

#园区设备地图：
type IBMS_regionMap{
    #园区Id
    regionId: String!
    #地图Url
    mapUrl: String!
    #地图类型
    mapType: String!
}


#建筑分类(功能区大类)
type IBMS_Architecture_Category{
    #编号
    id: String!
    #名称
    name: String!
}

#功能区分类
type IBMS_FunctionalArea_Category{
    #编号
    id: String!
    #名称
    name: String!
    #说明
    description: String
}


#园区
type IBMS_Park implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #上级区域 (园区没有上级)
    parent: IBMS_IRegion
    #面积
    area: Float
    #简介
    introduction: String
    #图片
    image: [String]
    #地块
    blocks(exp: String): [IBMS_Block]!
    #地块分页           pageSize: 单页记录数       pageIndex:页码,首页为1  sorting:排序,根据"名称","所属园区"或"地块面积"进行排序
    blocksPaging(exp: String, pageSize: Int! , pageIndex: Int! , sorting: String!): [IBMS_Block]!
    #地块数量
    blockCount(exp: String): Int!
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon

}


#地块
type IBMS_Block implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #所属园区
    parent: IBMS_Park
    #面积
    area: Float
    #建筑数量,包括楼宇和场所
    architectureCount: Int!
    #楼宇
    buildings(exp: String): [IBMS_Building]!
    #楼宇数量
    buildingCount(exp: String): Int!
    #场所
    places(exp: String): [IBMS_Place]!
    #场所数量
    placeCount(exp: String): Int!
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon
}


#地面场所
type IBMS_Place implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #所属地块
    parent: IBMS_Block
    #面积
    area: Float
    #分类
    categorys: [IBMS_Architecture_Category]!
    #场所功能区
    placeFunAreas(exp: String, pageSize: Int! , pageIndex: Int! ): [IBMS_FunctionalArea]!
    #场所功能区数量
    placeFunAreaCount: Int
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon
}


#楼宇
type IBMS_Building implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #所属地块
    parent: IBMS_Block
    #建筑高度
    height: Float
    #地下高度
    underHeight: Float
    #分类
    categorys: [IBMS_Architecture_Category]!
    #楼层
    floors(exp: String): [IBMS_Floor]!
    #楼层分页
    floorsPaging(exp: String, pageSize: Int! , pageIndex: Int! ): [IBMS_Floor]!
    #楼层数
    floorCount(exp: String): Int!
    #楼宇所有功能区
    funAreas: [IBMS_FunctionalArea]!
    #楼宇所有功能区数量
    funAreasCount: Int
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon
}

#楼层
type IBMS_Floor implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #所属楼宇
    parent: IBMS_Building
    #层高
    height: Float!
    #楼层号
    number: Int!
    #区域内功能区
    functionalAreas(exp: String, pageSize: Int , pageIndex: Int ): [IBMS_FunctionalArea]!
    #功能区数量
    functionalAreaCount: Int
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #园区图标
    regionIcon: IBMS_regionIcon
}

#功能区
type IBMS_FunctionalArea implements IBMS_IRegion{
    #编号
    id: String!
    #名称
    name: String!
    #标签
    tags: [String]
    #上级区域
    parent: IBMS_IRegion
    #分类
    category: IBMS_FunctionalArea_Category
    #园区设备地图：地图类型（平面图：floorPlan，立体图：stereogram）
    regionMap(mapType: String!): IBMS_regionMap
    #功能区小类表
    regionIcon: IBMS_regionIcon
    #点位信息
    regionPosition: [IBMS_regionPosition]
}

#园区点位信息
type IBMS_regionPosition{
    #功能区id
    functionalAreaId: String
    #点位名称
    name: String
    #点位编号
    coding: String
    #点位描述
    description: String
    #点位配置map信息.  keyStr值，不传则返回整个map字符串
    configurationMap(keyStr: String): String
    #XYZ坐标
    coordinate(regionId: String!): IBMS_Coordinate
}
#XYZ坐标
type IBMS_Coordinate{
    # X 坐标
    x_coordinate: String
    # Y 坐标
    y_coordinate: String
    # Z 坐标
    z_coordinate: String
}




#更新
extend type Mutation {
    #定义园区   parkName:园区名称  parkArea:园区面积  parkTags:园区标签 
    ibms_region_definePark(parkId: String! , parkName: String! , parkArea: String , parkTags: [String]): Boolean
    #重置园区名称   parkId:园区编号   parkName:园区名称
    ibms_region_resetParkName(parkId: String! , parkName: String!): Boolean
    #重置园区面积   parkId:园区编号   parkArea:园区面积
    ibms_region_resetParkArea(parkId: String! , parkArea: String): Boolean
    #重置园区简介   parkId:园区编号   introduction:园区简介
    ibms_region_resetParkIntroduction(parkId: String! , introduction: String!): Boolean
    #重置园区图片    parkId:园区编号   parkPicturePath：园区图片路径
    ibms_region_resetParkPicture(parkId: String! , files: [Upload!]!): Boolean
    #添加园区标签    parkId:园区编号   parkTag:园区标签
    ibms_region_addParkTag(parkId: String! , parkTag: String): Boolean
    #移除园区标签    parkId:园区编号   parkTag:园区标签
    ibms_region_removeParkTag(parkId: String! , parkTag: String): Boolean
    #取消园区定义    parkId:园区编号
    ibms_region_undefinePark(parkId: String!): Boolean
    #添加园区地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addParkMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置园区地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetParkMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除园区地图  regionId:园区编号  mapType:地图类型
    ibms_region_removeParkMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addParkIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removeParkIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetParkIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean

    #定义地块   blockName:地块名称  blockParentId:所属园区编号  blockArea:地块面积  blockTags:地块标签
    ibms_region_defineBlock(blockId: String! , blockName: String! , blockParentId: String! , blockArea: String , blockTags: [String]!): Boolean
    #重置地块名称   blockId:地块编号   blockName:地块名称   
    ibms_region_resetBlockName(blockId: String! , blockName: String!): Boolean
    #重置地块所属园区    blockId:地块编号    blockParentId:园区编号
    ibms_region_resetBlockParent(blockId: String! , blockParentId: String!): Boolean
    #重置地块面积    blockId:地块编号    blockArea:地块面积
    ibms_region_resetBlockArea(blockId: String! , blockArea: String!): Boolean
    #添加地块标签    blockId:地块编号   blockTag:地块标签
    ibms_region_addBlockTag(blockId: String! , blockTag: String): Boolean
    #移除地块标签     blockId:地块编号   blockTag:地块标签
    ibms_region_removeBlockTag(blockId: String! , blockTag: String): Boolean
    #取消地块定义    blockId:地块编号
    ibms_region_undefineBlock(blockId: String!): Boolean
    #添加地块地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addBlockMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置地块地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetBlockMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除地块地图  regionId:园区编号  mapType:地图类型
    ibms_region_removeBlockMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addBlockIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removeBlockIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetBlockIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean

    #定义场所   placeName:场所名称  placeParentId:所属地块编号  placeArea:场所面积  placeTags:场所标签  placeCategoryIds:场所分类编号
    ibms_region_definePlace(placeId: String! , placeName: String! , placeParentId: String! , placeArea: String , placeTags: [String]! , placeCategoryIds: [String!]): Boolean
    #重置场所名称   placeId:场所编号    placeName:场所名称
    ibms_region_resetPlaceName(placeId: String! , placeName: String!): Boolean
    #重置场所所属地块     placeId:场所编号    placeParentId:所属地块编号
    ibms_region_resetPlaceParent(placeId: String! , parentId: String!): Boolean
    #重置场所面积     placeId:场所编号     placeArea:场所面积
    ibms_region_resetPlaceArea(placeId: String! , placeArea: String!): Boolean
    #添加场所分类     placeId:场所编号     placeCategoryId: 场所分类编号
    ibms_region_addPlaceCategory(placeId: String! , placeCategoryId: String!): Boolean
    #移除场所分类     placeId:场所编号     placeCategoryId：场所分类编号
    ibms_region_removePlaceCategory(placeId: String! , placeCategoryId: String!): Boolean
    #添加场所标签    placeId:场所编号     placeTag:场所标签
    ibms_region_addPlaceTag(placeId: String! , placeTag: String!): Boolean
    #移除场所标签     placeId:场所编号     placeTag:场所标签
    ibms_region_removePlaceTag(placeId: String! , placeTag: String!): Boolean
    #取消广场定义    placeId:场所编号
    ibms_region_undefinePlace(placeId: String!): Boolean
    #添加场所地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addPlaceMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置场所地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetPlaceMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除场所地图  regionId:园区编号  mapType:地图类型
    ibms_region_removePlaceMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addPlaceIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removePlaceIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetPlaceIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean

    #定义楼宇   buildingName:楼宇名称  buildingParentId:所属地块编号  buildingHeight:地面建筑高度  buildingUnderHeight:地下建筑高度  buildingTags:建筑标签  buildingCategoryIds:建筑分类编号
    ibms_region_defineBuilding(buildingId: String! , buildingName: String! , buildingParentId: String! , buildingHeight: String , buildingUnderHeight: String , buildingTags: [String]! , buildingCategoryIds: [String]!): Boolean
    #重置楼宇名称   buildingId:楼宇编号    buildingName:楼宇名称
    ibms_region_resetBuildingName(buildingId: String! , buildingName: String!): Boolean
    #重置楼宇所属地块   buildingId:楼宇编号     buildingParentId:所属地块编号
    ibms_region_resetBuildingParent(buildingId: String! , buildingParentId: String!): Boolean
    #重置楼宇地面高度    buildingId:楼宇编号    buildingHeight:地面建筑高度
    ibms_region_resetBuildingHeight(buildingId: String! , buildingHeight: String!): Boolean
    #重置楼宇地下高度    buildingId:楼宇编号     buildingUnderHeight:楼宇地下高度
    ibms_region_resetBuildingUnderHeight(buildingId: String! , buildingUnderHeight: String!): Boolean
    #添加楼宇分类    buildingId:楼宇编号    buildingCategoryId:楼宇分类编号
    ibms_region_addBuildingCategory(buildingId: String! , buildingCategoryId: [String!]!): Boolean
    #移除楼宇分类    buildingId:楼宇编号    buildingCategoryId:楼宇分类编号
    ibms_region_removeBuildingCategory(buildingId: String! , buildingCategoryId: String!): Boolean
    #添加楼宇标签     buildingId:楼宇编号    buildingTag：楼宇标签
    ibms_region_addBuildingTag(buildingId: String! , buildingTag: String): Boolean
    #移除楼宇标签     buildingId:楼宇编号    buildingTag：楼宇标签
    ibms_region_removeBuildingTag(buildingId: String! , buildingTag: String): Boolean
    #取消楼宇定义    buildingId:楼宇编号
    ibms_region_undefineBuilding(buildingId: String!): Boolean
    #添加楼宇地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addBuildingMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置楼宇地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetBuildingMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除楼宇地图  regionId:园区编号  mapType:地图类型
    ibms_region_removeBuildingMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addBuildingIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removeBuildingIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetBuildingIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean

    #定义楼层   floorName:楼层名称  floorParentId:所属楼宇编号  floorHeight:层高  floorNumber:楼层号  floorTags:楼层标签   categoryIds:功能区分类编号
    ibms_region_defineFloor(floorId: String! ,floorName: String!, floorParentId: String! , floorHeight: String , floorNumber: String! , floorTags: [String]! , categoryIds: [String]!): String
    #重置楼层名称  floorId:楼层编号    floorName:楼层名称
    ibms_region_resetFloorName(floorId: String! , floorName: String!): Boolean
    #重置楼层所属楼宇    floorId:楼层编号    floorParentId:所属楼宇编号
    ibms_region_resetFloorParent(floorId: String! , floorParentId: String!): Boolean
    #重置楼层层高      floorId:楼层编号      floorHeight:层高
    ibms_region_resetFloorHeight(floorId: String! , floorHeight: String!): Boolean
    #重置楼层号         floorId:楼层编号     floorCount:楼层号
    ibms_region_resetFloorNumber(floorId: String! , floorNumber: String!): Boolean
    #添加楼层标签     floorId:楼层编号     floorTag:楼层标签
    ibms_region_addFloorTag(floorId: String!, floorTag: String): Boolean
    #移除楼层标签      floorId:楼层编号     floorTag:楼层标签
    ibms_region_removeFloorTag(floorId: String!, floorTag: String): Boolean
    #添加楼层分类
    ibms_region_addFuCategory(floorId: String!, categoryId: String): Boolean
    #移除楼层分类
    ibms_region_removeFuCategory(floorId: String!, categoryId: String): Boolean
    #取消楼层定义      floorId:楼层编号
    ibms_region_undefineFloor(floorId: String!): Boolean
    #添加楼层地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addFloorMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置楼层地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetFloorMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除楼层地图  regionId:园区编号  mapType:地图类型
    ibms_region_removeFloorMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addFloorIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removeFloorIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetFloorIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean

    #定义功能区     fuAreaId:功能区编号   fuAreaName:功能区名称   fuAreaParentId:所属楼层编号    categoryId:功能区分类编号   fuAreaTags:功能区标签
    ibms_region_defineFunctionalArea(fuAreaId: String! , fuAreaName: String! , fuAreaParentId: String! , categoryId: String! , fuAreaTags: [String]!): Boolean
    #取消定义功能区   fuAreaId:功能区编号
    ibms_region_undefineFunctionalArea(fuAreaId: String!): Boolean
    #重置功能区名称    fuAreaId:功能区编号    fuAreaName:功能区名称
    ibms_region_resetFunAreaName(fuAreaId: String! , fuAreaName: String!): Boolean
    #重置功能区所属楼层     fuAreaId:功能区编号    fuAreaParentId:所属楼层编号
    ibms_region_resetFunAreaParent(fuAreaId: String! , fuAreaParentId: String!): Boolean
    #重置功能区分类    fuAreaId:功能区编号    categoryId:功能区分类编号
    ibms_region_resetFunAreaCategory(fuAreaId: String! , categoryId: String!): Boolean
    #添加功能区标签    fuAreaId:功能区编号    fuAreaTag:功能区标签
    ibms_region_addFunAreaTag(fuAreaId: String! ,fuAreaTag: String!): Boolean
    #移除功能区标签    fuAreaId:功能区编号    fuAreaTag:功能区标签
    ibms_region_removeFunAreaTag(fuAreaId: String! ,fuAreaTag: String!): Boolean
    #添加功能区地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_addFunAreaMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #重置功能区地图  regionId:园区编号  mapType:地图类型  mapUrl:地图Url
    ibms_region_resetFunAreaMap(regionId: String! , mapType: String! , mapUrl: String!): Boolean
    #移除功能区地图  regionId:园区编号  mapType:地图类型
    ibms_region_removeFunAreaMap(regionId: String! , mapType: String!): Boolean
    #添加图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_addFunAreaIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #移除图标  regionId:园区id
    ibms_region_removeFunAreaIcon(regionId: String!): Boolean
    #重置图标  regionId:园区编号   defaultIcon:默认图标  pitchonIcon:选中图标
    ibms_region_resetFunAreaIcon(regionId: String!, defaultIcon: String, pitchonIcon: String): Boolean
    #添加点位信息
    ibms_region_addFunAreaDeviceCoords(params: DC_DeviceCoords): Boolean
    #移除点位信息  coding:点位编号 ；functionalAreaId:功能区id
    ibms_region_removeFunAreaDeviceCoords(coding: String!,functionalAreaId: String!): Boolean
    #配置点位XYZ坐标信息（如果已经存在，则修改；如果没有，则新增）
    ibms_region_setPosition(params: IBMS_Input_SetPosition): Boolean
}
#订阅
extend type Subscription{
    subscription: String!
}

#添加地图点位信息参数
input DC_DeviceCoords{
    #点位名称
    name: String
    #点位编号
    coding: String!
    #点位说明
    description: String
    #功能区Id
    functionalAreaId: String!
    #配置项的map数据
    configurationMap: String
}


#配置点位XYZ坐标信息参数
input IBMS_Input_SetPosition{
    #功能区Id
    functionalAreaId: String!
    #点位编号
    coding: String!
    #配置点的园区ID
    regionId: String!
    #配置点的X坐标
    x_position: String!
    #配置点的Y坐标
    y_position: String!
    #配置点的Z坐标
    z_position: String
}



