发现本机系统的OpenSSL版本默认指向：OpenSSL 1.1.1i  8 Dec 2020。
无论怎么配置系统环境变量都没法更改这个默认的版本，所以，要使用OpenSSL 3.X进行生成证书，那就进到“D:\OpenSSL\App\bin”，然后在其下进行各种证书配置操作。

Windows查看证书的命令：certmgr.msc（当前用户）、mmc（本地计算机）



openssl genrsa -out HTTPS001Key.pem 2048



openssl req -new -key HTTPS001Key.pem -out HTTPS001Server.csr -config openssl.cnf

You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [CN]:CN
State or Province Name (full name) [GuangDong]:GuangDong
Locality Name (eg, city) [ShenZhen]:ShenZhen
Organization Name (eg, company) [HTTPS001]:HTTPS001
Organizational Unit Name (eg, section) [HTTPS001]:HTTPS001
Common Name (e.g. server FQDN or YOUR name) [192.168.10.101]:192.168.10.101
Email Address [2726893248@qq.com]:1227839175@qq.com
Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:opensslHTTPS001
An optional company name []:HTTPS001



openssl req -new -key HTTPS001Key.pem -out HTTPS001Client.csr -config openssl.cnf

You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [CN]:CN
State or Province Name (full name) [GuangDong]:GuangDong
Locality Name (eg, city) [ShenZhen]:ShenZhen
Organization Name (eg, company) [HTTPS001]:HTTPS001
Organizational Unit Name (eg, section) [HTTPS001]:HTTPS001
Common Name (e.g. server FQDN or YOUR name) [192.168.10.101]:192.168.10.101
Email Address [2726893248@qq.com]:1227839175@qq.com
Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:opensslHTTPS001
An optional company name []:opensslHTTPS001



openssl req -x509 -config openssl.cnf -new -nodes -key HTTPS001Key.pem -days 36500 -out HTTPS001CACert.crt

You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [CN]:CN
State or Province Name (full name) [GuangDong]:GuangDong
Locality Name (eg, city) [ShenZhen]:ShenZhen
Organization Name (eg, company) [HTTPS001]:HTTPS001
Organizational Unit Name (eg, section) [HTTPS001]:HTTPS001
Common Name (e.g. server FQDN or YOUR name) [192.168.10.101]:192.168.10.101
Email Address [2726893248@qq.com]:1227839175@qq.com



openssl x509 -req -in HTTPS001Server.csr -CA HTTPS001CACert.crt -CAkey HTTPS001Key.pem -CAcreateserial -out HTTPS001Server.crt -days 36500 -sha512 -extfile https.ext

Certificate request self-signature ok
subject=C = CN, ST = GuangDong, L = ShenZhen, O = HTTPS001, OU = HTTPS001, CN = 192.168.10.101, emailAddress = 1227839175@qq.com



openssl x509 -req -in HTTPS001Client.csr -CA HTTPS001CACert.crt -CAkey HTTPS001Key.pem -CAcreateserial -out HTTPS001Client.crt -days 36500 -sha512

Certificate request self-signature ok
subject=C = CN, ST = GuangDong, L = ShenZhen, O = HTTPS001, OU = HTTPS001, CN = 192.168.10.101, emailAddress = 1227839175@qq.com



#还得将输出的“HTTPS001CACert.p12”的内容转换为“base64”编码的新文件“HTTPS001CACert.p12.base64”。
openssl pkcs12 -export -clcerts -in HTTPS001CACert.crt -inkey HTTPS001Key.pem -out HTTPS001CACert.p12 -password pass:opensslHTTPS001

Warning: -clcerts option ignored with -export
